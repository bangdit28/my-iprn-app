<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPRN Monitor</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; background: #121212; color: white; padding: 20px; }
        .card { background: #1e1e1e; border-radius: 12px; padding: 15px; margin-bottom: 10px; border-left: 5px solid #444; }
        .gacor { border-left: 5px solid #00ff00; } /* Hijau kalau gacor */
        .range { font-size: 1.2em; font-weight: bold; }
        .hits { color: #aaa; }
        .status { float: right; font-weight: bold; }
    </style>
</head>
<body>
    <h3>ðŸš€ IPRN Gacor Detector</h3>
    <div id="status-container">Memuat data terbaru...</div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // Biar tampilan penuh

        // Ganti URL ini nanti dengan URL backend Koyeb kamu
        const BACKEND_URL = "https://backend-kamu.koyeb.app/data";

        async function loadData() {
            try {
                const response = await fetch(BACKEND_URL);
                const data = await response.json();
                let html = '';
                data.forEach(item => {
                    let isGacor = item.hits > 100 ? 'gacor' : '';
                    html += `
                        <div class="card ${isGacor}">
                            <span class="status">${item.hits > 100 ? 'ðŸ”¥ HOT' : 'ðŸ’¤ SLOW'}</span>
                            <div class="range">${item.range}</div>
                            <div class="hits">Hits: ${item.hits}/min | Payout: ${item.payout}</div>
                        </div>`;
                });
                document.getElementById('status-container').innerHTML = html;
            } catch (e) {
                document.getElementById('status-container').innerHTML = "Gagal ambil data. Pastikan Backend nyala.";
            }
        }

        loadData();
        setInterval(loadData, 30000); // Update tiap 30 detik
    </script>
</body>
</html>
